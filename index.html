<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Free Flow Routes - Accessible Journey Planner</title>
  <meta name="description" content="Plan accessible journeys on London public transport with step-free access information.">
  <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to content</a>
  <header>
    <div class="header-content">
      <div class="logo-container">
        <img class="logo" src="assets/images/freeflowroutes-logo.png" alt="Free Flow Routes Logo" />
      </div>
      <nav class="main-nav" aria-label="Main navigation">
        <button class="menu-toggle" aria-expanded="false" aria-controls="main-menu" aria-label="Toggle menu">
          <i class="fas fa-bars"></i>
        </button>
        <ul id="main-menu">
          <li><a href="index.html" class="active">Journey Planner</a></li>
          <li><a href="accessibility.html">Accessibility Guide</a></li>
        </ul>
      </nav>
      <label class="switch" for="dark-mode-toggle">
        <input type="checkbox" id="dark-mode-toggle" aria-label="Toggle dark mode" />
        <span class="slider">
          <i class="fas fa-sun" id="sun-icon" style="display: none;"></i>
          <i class="fas fa-moon" id="moon-icon"></i>
        </span>
      </label>
    </div>
  </header>
  
  <main id="main-content">
    <div class="hero-section">
      <div class="hero-content">
        <h1>Plan Your Accessible Journey</h1>
        <p class="subtitle">Routes optimized for accessibility across London's transport network</p>
      </div>
    </div>
    
    <section class="journey-planner">
      <h2>Journey Planner</h2>
      <div class="accessibility-commitment">
        <p><i class="fas fa-wheelchair"></i> <strong>Accessibility Information</strong> - We provide station accessibility details to help you plan your journey</p>
      </div>
      <div class="form-group">
        <label for="start-station">Start Station:</label>
        <div class="input-with-icon">
          <i class="fas fa-map-marker-alt start-icon"></i>
          <select id="start-station" aria-label="Select start station"></select>
        </div>
        <span id="start-accessibility" class="accessibility-info" aria-live="polite"></span>
      </div>
      
      <div class="form-group">
        <label for="end-station">End Station:</label>
        <div class="input-with-icon">
          <i class="fas fa-flag end-icon"></i>
          <select id="end-station" aria-label="Select end station"></select>
        </div>
        <span id="end-accessibility" class="accessibility-info" aria-live="polite"></span>
      </div>
      
      <div class="form-group">
        <label for="route-preference">Route Preference:</label>
        <div class="route-preferences">
          <div class="preference-option">
            <input type="radio" id="best-route" name="route-preference" value="best" checked>
            <label for="best-route">Best route</label>
          </div>
          <div class="preference-option">
            <input type="radio" id="fewer-transfers" name="route-preference" value="fewer_transfers">
            <label for="fewer-transfers">Fewer transfers</label>
          </div>
          <div class="preference-option">
            <input type="radio" id="less-walking" name="route-preference" value="less_walking">
            <label for="less-walking">Less walking</label>
          </div>
          <div class="preference-option wheelchair-option">
            <input type="checkbox" id="wheelchair-accessible" name="wheelchair-accessible" checked>
            <label for="wheelchair-accessible">Show accessibility info</label>
          </div>
        </div>
      </div>
      
      <div class="accessibility-note">
        <p><i class="fas fa-info-circle"></i> <strong>Important:</strong> The Google Maps API doesn't directly support wheelchair-specific routes. We provide station accessibility information, but the routes shown are standard transit routes. Always check with transport providers for specific accessibility features.</p>
      </div>
      
      <div class="button-group">
        <button id="plan-route" class="primary-button" aria-label="Show route">
          <i class="fas fa-route"></i> Show Route
        </button>
        <button id="reset-button" class="secondary-button" aria-label="Reset selections">
          <i class="fas fa-undo"></i> Reset Route
        </button>
      </div>
    </section>
    
    <div id="map-container" class="map-wrapper" aria-label="Map showing the route">
      <div class="map-header">
        <h2 class="route-title">Your Route</h2>
        <div class="route-info" id="route-details"></div>
      </div>
      <iframe id="map" frameborder="0" style="border:0" allowfullscreen title="Route map"></iframe>
    </div>
    
    <div id="loading-spinner" class="spinner" aria-live="assertive">
      <div class="spinner-content">
        <div class="spinner-icon">
          <i class="fas fa-route fa-pulse"></i>
        </div>
        <div class="spinner-text">
          <h3>Finding Your Route</h3>
          <p class="spinner-message">Searching for accessible paths...</p>
          <div class="progress-bar">
            <div class="progress-fill"></div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="overlay">
      <div class="overlay-content">
        <h2>Welcome to Free Flow Routes</h2>
        <p>Plan accessible journeys across London's transport network</p>
        <div class="loading-animation">
          <div class="loading-bar"></div>
        </div>
        <p class="hint">Click anywhere to continue</p>
      </div>
    </div>
  </main>
  
  <footer>
    <div class="footer-content">
      <div class="footer-info">
        <p>Â© <span id="current-year"></span> Free Flow Routes</p>
        <p>Data provided by Transport for London</p>
      </div>
      <div class="footer-links">
        <a href="accessibility.html">Accessibility Guide</a>
        <a href="https://tfl.gov.uk" target="_blank" rel="noopener">TfL Website</a>
      </div>
    </div>
  </footer>
  
  <button id="back-to-top" aria-label="Back to top">
    <i class="fas fa-arrow-up"></i>
  </button>
  
  <script src="js/main.js"></script>
  <script src="js/map.js"></script>
  <script type="module" src="js/tfl.js"></script>
  <script type="module" src="js/modules/darkMode.js"></script>
  <script type="module" src="js/modules/accessibility.js"></script>
</body>
</html>
